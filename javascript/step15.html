<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <style>
       div{
           margin: 10px 5px;
       }
       label{
           display: inline-block;
           width: 80px;
       }
       input{
           width: 300px;
           height: 20px;
           font-size: 1.1em;
       }
       select{
           width: 300px;
           height: 30px;
           font-size: 1.2em;
       }
       input:focus{
        outline: none;
    }
   </style>
   
    <script>
        window.onload = function(){
            const idObj = document.querySelector("#id");
            const jobObj = document.querySelector("#job");
            const emailObj = document.querySelector("#email");
            const subObj = document.querySelector("#joinMember");
          

            idObj.addEventListener("blur", function(){
                if(idObj.value.length >= 1){
                    idObj.style.borderBottomColor = "black";
                }
            })
            subObj.addEventListener("click",function(e){
                // 원래의 기능을 제거한다.
                e.preventDefault();
                console.log(jobObj.selectedIndex);
                if(idObj.value == ""){
                    idObj.style.borderBottomColor = "red";
                    alert("아이디를 입력하세요");
                    idObj.focus();
                    return; // return은 아래의 실행문을 수행하지말고 중지
                }
                if(jobObj.selectedIndex == 0){
                    alert('직업을 선택하세요');
                    jobObj.focus();
                    return;
                }
                if(emailObj.value == ""){
                    alert('이메일을 선택하세요');
                    emailObj.focus();
                    return;
                }
              //  f.submit(); //모두 채워야 submit 하게 해준다.
            })
        }

    </script>
    <title>Javascript Validation</title>
</head>
<body>
    <h1>회원가입</h1>
    <form name="f" action="save.html" method="get">
        <div>
            <label for="id">아이디</label>
            <input type="text" name="id" id="id" placeholder="아이디를 입력하세요">
        </div>
        <div>
            <label for="job">직업</label>
            <select name="job" id="job">
                <!-- value를 지정하지 않으면 option의 값이 넘어간다.-->
                <option  value="">직업을 선택하세요</option>
                <option value="teacher">선생님</option>
                <option value="dev">개발자</option>
                <option value="analy">분석가</option>
                <option value="etc">기타</option>
            </select>
        </div>
        <div>
            <label for="email">이메일</label>
            <input type="email" name="email" id="email">
        </div>
        <div>
            <button type="submit" id = "joinMember">회원가입</button>
            <button type="reset">취소</button>
        </div>
        
    </form>
</body>
</html>